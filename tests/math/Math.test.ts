import { describe, test, assert } from "matchstick-as/assembly/index";
import { pow } from "../../src/utils/MathUtils";
import { BigDecimal, log } from "@graphprotocol/graph-ts";
import { BD_18, BD_TEN } from "../../src/utils/Constant";

describe('Tests for MathUtils.ts', () => {
  test('pow BD', () => {
    const result = pow(BigDecimal.fromString('34561558345153086653349042676410820000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000'), 6153)
    log.log(log.Level.INFO, `result = ${result}`)
    assert.assertTrue(result.equals(BigDecimal.zero()))
  })
  test('Calculate 10 ^ 18', () => {
    const result = pow(BD_TEN, 18)
    log.log(log.Level.INFO, `calculate 10 ^ 18 = ${result}`)
    assert.assertTrue(result.equals(BD_18))
  })
  test('Check pow', () => {
    const result = pow(BigDecimal.fromString('2'), 5)
    log.log(log.Level.INFO, `result = ${result}`)
    assert.assertTrue(result.equals(BigDecimal.fromString('32')))
  })
})